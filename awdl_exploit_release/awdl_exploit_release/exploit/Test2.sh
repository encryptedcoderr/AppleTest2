#!/bin/bash

# Variables
OUTPUT_FILE_BASE_1="airodump_output_1"
OUTPUT_FILE_BASE_2="airodump_output_2"
INTERFACE="wlan1mon"  # Monitor mode interface
DURATION=30           # Duration for each airodump-ng session in seconds
SLEEP_BETWEEN=2       # Wait time between sessions

# Function to run airodump-ng and save output
run_airodump() {
    local output_file_base=$1

    echo "Starting airodump-ng on $INTERFACE for $DURATION seconds..."
    airodump-ng --write-interval 1 --output-format csv --write $output_file_base $INTERFACE &

    # Capture PID and wait
    PID=$!
    sleep $DURATION
    kill $PID 2>/dev/null || pkill airodump-ng
    echo "Airodump-ng session completed. Output saved to ${output_file_base}-01.csv"
}

# Run first airodump-ng session
run_airodump $OUTPUT_FILE_BASE_1

# Pause between sessions
echo "Waiting for $SLEEP_BETWEEN seconds..."
sleep $SLEEP_BETWEEN

# Run second airodump-ng session
run_airodump $OUTPUT_FILE_BASE_2

echo "Data collection completed."
echo "Outputs saved as:"
echo " - ${OUTPUT_FILE_BASE_1}-01.csv"
echo " - ${OUTPUT_FILE_BASE_2}-01.csv"

rssi within 2 feet
-30 dBm to -40 dBm: This range indicates the device is extremely close (within a few feet). A value of -30 dBm suggests a very strong signal and is typical in ideal conditions.

#-30 dBm: Extremely close (within a few meters)
#-60 dBm: Good signal strength (around 10-20 meters away)
#-70 dBm: Fair signal (20-30 meters away)
#-80 dBm: Weak signal (30+ meters away)
#-90 dBm or lower: Unusable signal (likely too far)

#Channel 36: 5.180 GHz
#Channel 40: 5.200 GHz
#Channel 44: 5.220 GHz
#Channel 48: 5.240 GHz
#Channel 149: 5.745 GHz
#Channel 153: 5.765 GHz
#Channel 157: 5.785 GHz
#Channel 161: 5.805 GHz

#00:1C:B3 (used for various devices)
#00:1E:C2
#F4:CA:EA

#2.4 GHz

#Channel 6
#5 GHz

#Channel 36
#Channel 40
#Channel 44
#Channel 48
#Channel 149
#Channel 153
#Channel 157
#Channel 161