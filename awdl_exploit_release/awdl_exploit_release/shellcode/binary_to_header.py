#!/usr/bin/env python
import sys

if len(sys.argv) < 2:
    print('no infile')
    exit()

outstr = 'uint8_t bytes[] = {\n  '

infile = open(sys.argv[1], 'rb').read()
linecnt = 0
for cnt, byte in enumerate(infile):
    s = '0x%02x' % ord(byte)
    outstr += s
    linecnt += 1

    # if that was the last byte, don't add anything else
    if cnt == (len(infile) - 1):
        outstr += '\n};\n'
    elif linecnt == 16:
        outstr += ',\n  '
        linecnt = 0
    else:
        outstr += ', '

print(outstr)
